{"version":3,"sources":["components/CartAlbum.js","components/Cart.js","components/Album.js","components/Navbar.js","components/CheckoutForm.js","components/Sidebar.js","api/api.js","App.js","reportWebVitals.js","index.js"],"names":["CartAlbum","title","cost","quantity","className","toFixed","Cart","albumsInCart","totalCost","length","map","album","price","id","Album","artist","genre","onAddToCartClick","onClick","Navbar","injectStripe","stripe","useState","status","setStatus","submit","e","a","preventDefault","createToken","name","token","fetch","method","body","JSON","stringify","amount","ok","Error","onSubmit","type","disabled","Sidebar","apiKey","albums","App","setAlbumsInCart","reduce","acc","albumInCart","find","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d17df9d2.chunk.js","sourcesContent":["const CartAlbum = ({ title, cost, quantity }) => {\n  return (\n    <div className=\"cart-album-container\">\n      <h3>{title}</h3>\n      <div className=\"cart-album-details\">\n        <p className=\"cart-album-quantity\">Qty: {quantity}</p>\n        <p>${cost.toFixed(2)}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default CartAlbum","import React from 'react'\nimport CartAlbum from './CartAlbum'\n\nconst Cart = ({ albumsInCart, totalCost }) => {\n  return (\n    <div className=\"cart\">\n      <h2 className=\"cart-title\">Your Cart</h2>\n      {albumsInCart.length > 0 ? (\n        <div>\n          {albumsInCart.map(album => (\n            <CartAlbum \n              key={album.id}\n              title={album.title}\n              cost={album.price * album.quantity}\n              quantity={album.quantity}\n            />\n          ))}\n          <div className=\"cart-total-cost\">\n            Your Total: ${totalCost.toFixed(2)}\n          </div>\n        </div>\n      ) : (\n        <div>Your cart is empty</div>\n      )}\n    </div>\n  )\n}\n\nexport default Cart","\nconst Album = ({ title, artist, genre, price, onAddToCartClick }) => {\n\n  return (\n    <div className=\"album-item\">\n      <h3 className=\"album-title\">{title}</h3>\n      <h4 className=\"album-artist\">{artist}</h4>\n      <p className=\"album-genre\">{genre}</p>\n      <p className=\"album-price\">${price}</p>\n      <button className=\"btn add-to-cart\" onClick={onAddToCartClick}>Add to Cart</button>\n    </div>\n  )\n}\n\nexport default Album","import React from 'react'\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar\">\n      <h1><i className=\"fas fa-record-vinyl\"></i>MusicMarket</h1>\n      <p>Artists</p>\n      <p>Albums</p>\n      <p>Genres</p>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React, { useState } from 'react';\nimport { CardElement, injectStripe } from 'react-stripe-elements';\n\n\nconst CheckoutForm = ({ stripe, totalCost }) => {\n  const [status, setStatus] = useState('default');\n\n  const submit = async e => {\n    e.preventDefault();\n\n    setStatus('submitting');\n\n    try {\n      let { token } = await stripe.createToken({ name: 'Name' });\n\n      let response = await fetch('/.netlify/functions/charge', {\n        method: 'POST',\n        body: JSON.stringify({\n          amount: totalCost * 100,\n          token: token.id,\n        }),\n      });\n\n      if (response.ok) {\n        setStatus('complete');\n      } else {\n        throw new Error('Network response failed.');\n      }\n    } catch (err) {\n      setStatus('error');\n    }\n  };\n\n  if (status === 'complete') {\n    return <div className=\"heckoutForm-complete\">Payment successful!</div>;\n  }\n\n  return (\n    <form className=\"checkoutform\" onSubmit={submit}>\n      <h4>Would you like to complete the purchase?</h4>\n      <CardElement />\n      <button\n        className=\"checkoutform-button\"\n        type=\"submit\"\n        disabled={status === 'submitting'}\n      >\n        {status === 'submitting' ? 'Submitting' : 'Submit Order'}\n      </button>\n      {status === 'error' && (\n        <div className=\"checkoutform-error\">Thank you for your order!.</div>\n      )}\n    </form>\n  );\n}\n\nexport default injectStripe(CheckoutForm)","import Cart from './Cart'\nimport { Elements, StripeProvider } from 'react-stripe-elements';\nimport CheckoutForm from './CheckoutForm';\n\nconst Sidebar = ({ albumsInCart, totalCost }) => {\n  return (\n    <div className=\"sidebar\">\n      <h2>Sidebar</h2>\n      <p>Artists</p>\n      <p>Genres</p>\n      <p>Reviews</p>\n      <p>About us</p>\n\n      <Cart albumsInCart={albumsInCart} totalCost={totalCost}/>\n      {albumsInCart.length > 0 && (\n        <StripeProvider apiKey=\"your_public_key\">\n          <Elements>\n            <CheckoutForm totalCost={totalCost} />\n          </Elements>\n        </StripeProvider>\n      )}\n    </div>\n  )\n}\n\nexport default Sidebar","let albums = [\n  {\n    id: 1,\n    artist: 'Sweet Trip',\n    title: 'Velocity:Design:Comfort',\n    price: 22,\n    genre: 'Electronic',\n  },\n  {\n    id: 2,\n    artist: 'Burial',\n    title: 'Untrue',\n    price: 18,\n    genre: 'Electronic',\n  },\n  {\n    id: 3,\n    artist: 'The Flaming Lips',\n    title: 'The Soft Bulletin',\n    price: 28,\n    genre: 'Indie Rock',\n  },\n  {\n    id: 4,\n    artist: 'Radiohead',\n    title: 'In Rainbows',\n    price: 30,\n    genre: 'Alternative',\n  },\n  {\n    id: 5,\n    artist: 'OPERATION: DOOMSDAY',\n    title: 'MF Doom',\n    price: 32,\n    genre: 'Rap',\n  },\n  {\n    id: 6,\n    artist: 'Beach House',\n    title: 'Bloom',\n    price: 24,\n    genre: 'Alternative',\n  },\n  {\n    id: 7,\n    artist: 'Sade',\n    title: 'Love Deluxe',\n    price: 34,\n    genre: 'R&B',\n  },\n  {\n    id: 8,\n    artist: 'Kate Bush',\n    title: 'Hounds of Love',\n    price: 29,\n    genre: 'Pop',\n  },\n  {\n    id: 9,\n    artist: 'David Bowie',\n    title: 'Blackstar',\n    price: 35,\n    genre: 'Rock',\n  },\n  {\n    id: 10,\n    artist: 'FKA twigs',\n    title: 'Magdalene',\n    price: 28,\n    genre: 'Electronic',\n  },\n  {\n    id: 11,\n    artist: 'Aphex Twin',\n    title: 'Selected Ambient Works 85-92',\n    price: 20,\n    genre: 'Electronic',\n  },\n  {\n    id: 12,\n    artist: 'The Cure',\n    title: 'Disintegration',\n    price: 20,\n    genre: 'Rock',\n  },\n]\n\nexport default albums","import './App.css'\nimport React, { useState } from 'react'\nimport Cart from './components/Cart'\nimport Album from './components/Album'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport albums from './api/api'\n\nconst App = () => {\n\n  const [albumsInCart, setAlbumsInCart] = useState([]);\n\n  const handleAddtoCartClick = id => {\n    setAlbumsInCart(albumsInCart => {\n      const albumInCart = albumsInCart.find(album => album.id === id);\n\n      if (albumInCart) {\n        return albumsInCart.map(album => {\n          if (album.id !== id) return album\n          return { ...albumInCart, quantity: album.quantity + 1}\n        })\n      }\n      const album = albums.find(album => album.id === id)\n      return [...albumsInCart, { ...album, quantity: 1 }]\n    })\n  }\n\n  const totalCost = albumsInCart.reduce(\n    (acc, album) => acc + album.price * album.quantity, 0\n  )\n\n  return (\n    <div className=\"App\">\n      <header id=\"header\">\n        <Navbar />\n      </header>\n      <main id=\"main\">\n        <Sidebar albumsInCart={albumsInCart} totalCost={totalCost}/>\n        <div className=\"albums-list\">\n          {albums.map(album => (\n            <Album\n              key={album.id}\n              title={album.title}\n              artist={album.artist}\n              genre={album.genre}\n              price={album.price}\n              onAddToCartClick={() => handleAddtoCartClick(album.id)}\n            />\n          ))}\n        </div>\n        {/* <Cart albumsInCart={albumsInCart} totalCost={totalCost}/> */}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}