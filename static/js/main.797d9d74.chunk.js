(this["webpackJsonpmarket-app"]=this["webpackJsonpmarket-app"]||[]).push([[0],{19:function(e,t,r){},29:function(e,t,r){"use strict";r.r(t);var i=r(1),c=r.n(i),n=r(12),a=r.n(n),s=r(14),l=r(4),o=r(8),u=(r(19),r(0)),d=function(e){var t=e.title,r=e.cost,i=e.quantity;return Object(u.jsxs)("div",{className:"cart-album-container",children:[Object(u.jsx)("h3",{children:t}),Object(u.jsxs)("div",{className:"cart-album-details",children:[Object(u.jsxs)("p",{className:"cart-album-quantity",children:["Qty: ",i]}),Object(u.jsxs)("p",{children:["$",r.toFixed(2)]})]})]})},j=function(e){var t=e.albumsInCart,r=e.totalCost;return Object(u.jsxs)("div",{className:"cart",children:[Object(u.jsx)("h2",{className:"cart-title",children:"Your Cart"}),t.length>0?Object(u.jsxs)("div",{children:[t.map((function(e){return Object(u.jsx)(d,{title:e.title,cost:e.price*e.quantity,quantity:e.quantity},e.id)})),Object(u.jsxs)("div",{className:"cart-total-cost",children:["Your Total: $",r.toFixed(2)]})]}):Object(u.jsx)("div",{children:"Your cart is empty"})]})},b=function(e){var t=e.title,r=e.artist,i=e.genre,c=e.price,n=e.onAddToCartClick;return Object(u.jsxs)("div",{className:"album-item",children:[Object(u.jsx)("h3",{className:"album-title",children:t}),Object(u.jsx)("h4",{className:"album-artist",children:r}),Object(u.jsx)("p",{className:"album-genre",children:i}),Object(u.jsxs)("p",{className:"album-price",children:["$",c]}),Object(u.jsx)("button",{className:"btn add-to-cart",onClick:n,children:"Add to Cart"})]})},h=function(){return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsxs)("h1",{children:[Object(u.jsx)("i",{className:"fas fa-record-vinyl"}),"MusicMarket"]}),Object(u.jsx)("p",{children:"Artists"}),Object(u.jsx)("p",{children:"Albums"}),Object(u.jsx)("p",{children:"Genres"})]})},m=r(2),p=r(11),O=r.n(p),x=r(13),f=Object(m.injectStripe)((function(e){var t=e.stripe,r=e.totalCost,c=Object(i.useState)("default"),n=Object(o.a)(c,2),a=n[0],s=n[1],l=function(){var e=Object(x.a)(O.a.mark((function e(i){var c,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),s("submitting"),e.prev=2,e.next=5,t.createToken({name:"Name"});case 5:return c=e.sent,n=c.token,e.next=9,fetch("/.netlify/functions/charge",{method:"POST",body:JSON.stringify({amount:100*r,token:n.id})});case 9:if(!e.sent.ok){e.next=14;break}s("complete"),e.next=15;break;case 14:throw new Error("Network response failed.");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),s("error");case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return"complete"===a?Object(u.jsx)("div",{className:"heckoutForm-complete",children:"Payment successful!"}):Object(u.jsxs)("form",{className:"checkoutform",onSubmit:l,children:[Object(u.jsx)("h4",{children:"Would you like to complete the purchase?"}),Object(u.jsx)(m.CardElement,{}),Object(u.jsx)("button",{className:"checkoutform-button",type:"submit",disabled:"submitting"===a,children:"submitting"===a?"Submitting":"Submit Order"}),"error"===a&&Object(u.jsx)("div",{className:"checkoutform-error",children:"Thank you for your order!."})]})})),v=function(e){var t=e.albumsInCart,r=e.totalCost;return Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)("h2",{children:"Sidebar"}),Object(u.jsx)("p",{children:"Artists"}),Object(u.jsx)("p",{children:"Albums"}),Object(u.jsx)("p",{children:"Reviews"}),Object(u.jsx)("p",{children:"About us"}),Object(u.jsx)(j,{albumsInCart:t,totalCost:r}),t.length>0&&Object(u.jsx)(m.StripeProvider,{apiKey:"your_public_key",children:Object(u.jsx)(m.Elements,{children:Object(u.jsx)(f,{totalCost:r})})})]})},g=[{id:1,artist:"Sweet Trip",title:"Velocity:Design:Comfort",price:22,genre:"Electronic"},{id:2,artist:"Burial",title:"Untrue",price:18,genre:"Electronic"},{id:3,artist:"The Flaming Lips",title:"The Soft Bulletin",price:28,genre:"Indie Rock"},{id:4,artist:"Radiohead",title:"In Rainbows",price:30,genre:"Alternative"},{id:5,artist:"OPERATION: DOOMSDAY",title:"MF Doom",price:32,genre:"Rap"},{id:6,artist:"Beach House",title:"Bloom",price:24,genre:"Alternative"},{id:7,artist:"Sade",title:"Love Deluxe",price:34,genre:"R&B"},{id:8,artist:"Kate Bush",title:"Hounds of Love",price:29,genre:"Pop"},{id:9,artist:"David Bowie",title:"Blackstar",price:35,genre:"Rock"},{id:10,artist:"FKA twigs",title:"Magdalene",price:28,genre:"Electronic"},{id:11,artist:"Aphex Twin",title:"Selected Ambient Works 85-92",price:20,genre:"Electronic"},{id:12,artist:"The Cure",title:"Disintegration",price:20,genre:"Rock"}],k=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),r=t[0],c=t[1],n=r.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{id:"header",children:Object(u.jsx)(h,{})}),Object(u.jsxs)("main",{id:"main",children:[Object(u.jsx)(v,{albumsInCart:r,totalCost:n}),Object(u.jsx)("div",{className:"albums-list",children:g.map((function(e){return Object(u.jsx)(b,{title:e.title,artist:e.artist,genre:e.genre,price:e.price,onAddToCartClick:function(){return t=e.id,void c((function(e){var r=e.find((function(e){return e.id===t}));if(r)return e.map((function(e){return e.id!==t?e:Object(l.a)(Object(l.a)({},r),{},{quantity:e.quantity+1})}));var i=g.find((function(e){return e.id===t}));return[].concat(Object(s.a)(e),[Object(l.a)(Object(l.a)({},i),{},{quantity:1})])}));var t}},e.id)}))})]})]})},y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,30)).then((function(t){var r=t.getCLS,i=t.getFID,c=t.getFCP,n=t.getLCP,a=t.getTTFB;r(e),i(e),c(e),n(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root")),y()}},[[29,1,2]]]);
//# sourceMappingURL=main.797d9d74.chunk.js.map